<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#a855f7">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Habit Tracker">
  <title>Habit Tracker - Consistency Over Excuses</title>
  <link rel="manifest" href="/manifest.json">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Apply theme immediately before page renders to prevent flash -->
  <script>
    (function() {
      // Get saved theme from localStorage
      var savedTheme = localStorage.getItem('theme');
      // Only allow 'light' or 'dark', default to 'dark'
      var theme = (savedTheme === 'light' || savedTheme === 'dark') ? savedTheme : 'dark';
      
      // Apply theme immediately
      var html = document.documentElement;
      var body = document.body;
      
      // Remove any existing theme classes
      html.classList.remove('theme-dark', 'theme-light');
      body.classList.remove('theme-dark', 'theme-light');
      
      if (theme === 'light') {
        html.classList.add('theme-light');
        body.classList.add('theme-light');
        // Apply light theme CSS variables immediately
        html.style.setProperty('--bg-dark', '#f5f5f5');
        html.style.setProperty('--bg-card', '#ffffff');
        html.style.setProperty('--bg-hover', '#f0f0f0');
        html.style.setProperty('--text-primary', '#000000');
        html.style.setProperty('--text-secondary', '#666666');
        html.style.setProperty('--border-color', '#e0e0e0');
      } else {
        // Dark theme (default)
        html.classList.add('theme-dark');
        body.classList.add('theme-dark');
        // Apply dark theme CSS variables immediately
        html.style.setProperty('--bg-dark', '#0a0a0a');
        html.style.setProperty('--bg-card', '#1a1a1a');
        html.style.setProperty('--bg-hover', '#2a2a2a');
        html.style.setProperty('--text-primary', '#ffffff');
        html.style.setProperty('--text-secondary', '#b0b0b0');
        html.style.setProperty('--border-color', '#333333');
      }
    })();
  </script>
</head>
<body>
  <app-root></app-root>
</body>
</html>
